package main.calculator.controller;import main.calculator.model.RequestExpression;import main.calculator.util.Menu;import main.calculator.service.CalculatorService;import main.common.io.InputConsole;import main.common.io.OutputConsole;import main.calculator.validate.ExpressionValidator;import main.calculator.model.Result;import java.util.List;public class CalculatorController {    private final InputConsole inputConsole;    private final OutputConsole outputConsole;    private final CalculatorService calculatorService;    public CalculatorController(InputConsole inputConsole, OutputConsole outputConsole, CalculatorService calculatorService) {        this.inputConsole = inputConsole;        this.outputConsole = outputConsole;        this.calculatorService = calculatorService;    }    public void run() {        while (true) {            outputConsole.printMenu();            String selectMenu = inputConsole.read();            Menu menu = Menu.from(selectMenu);            switch (menu) {                case HISTORY -> {                    List<Result> userHistory = calculatorService.getHistory();                    outputConsole.printHistory(userHistory);                }                case CALCULATE -> {                    String expression = inputConsole.read();                    if (ExpressionValidator.validateExpression(expression)) {                        RequestExpression requestExpression = new RequestExpression(expression);                        Result result = calculatorService.calculate(requestExpression);                        outputConsole.printResult(result);                    }                }                case EXIT -> System.exit(0);            }        }    }}